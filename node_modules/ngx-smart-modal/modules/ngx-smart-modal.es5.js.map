{"version":3,"file":"ngx-smart-modal.es5.js","sources":["../../index.ts","../../public_api.ts","../../src/ngx-smart-modal.ts","../../src/modules/ngx-smart-modal.module.ts","../../src/components/ngx-smart-modal.component.ts","../../src/services/ngx-smart-modal.service.ts"],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport {NgxSmartModalService,NgxSmartModalComponent,NgxSmartModalModule} from './public_api';\n","/**\n * Entry point for all public APIs of the package.\n */\nexport {NgxSmartModalService,NgxSmartModalComponent,NgxSmartModalModule} from './src/ngx-smart-modal';\n","// Public classes.\nexport {NgxSmartModalService} from './services/ngx-smart-modal.service';\nexport {NgxSmartModalComponent} from './components/ngx-smart-modal.component';\nexport {NgxSmartModalModule} from './modules/ngx-smart-modal.module';\n","import {CommonModule} from '@angular/common';\nimport {NgModule, ModuleWithProviders} from '@angular/core';\nimport {NgxSmartModalService} from '../services/ngx-smart-modal.service';\nimport {NgxSmartModalComponent} from '../components/ngx-smart-modal.component';\nexport class NgxSmartModalModule {\n/**\n * Use in AppModule: new instance of NgxSmartModal.\n * @return {?}\n */\npublic static forRoot(): ModuleWithProviders {\n        return {\n            ngModule: NgxSmartModalModule,\n            providers: [NgxSmartModalService]\n        };\n    }\n/**\n * Use in features modules with lazy loading: new instance of NgxSmartModal.\n * @return {?}\n */\npublic static forChild(): ModuleWithProviders {\n        return {\n            ngModule: NgxSmartModalModule,\n            providers: [NgxSmartModalService]\n        };\n    }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n    declarations: [NgxSmartModalComponent],\n    exports: [NgxSmartModalComponent],\n    imports: [CommonModule]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction NgxSmartModalModule_tsickle_Closure_declarations() {\n/** @type {?} */\nNgxSmartModalModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nNgxSmartModalModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {\n  Component,\n  OnInit,\n  Input,\n  Output,\n  EventEmitter,\n  OnDestroy,\n  HostListener,\n  ChangeDetectorRef\n} from '@angular/core';\nimport { trigger, style, animate, transition } from '@angular/animations';\nimport { NgxSmartModalService } from '../services/ngx-smart-modal.service';\nexport class NgxSmartModalComponent implements OnInit, OnDestroy {\npublic closable: boolean = true;\npublic escapeAble: boolean = true;\npublic identifier: string;\npublic customClass: string = '';\npublic visible: boolean = false;\npublic backdrop: boolean = true;\npublic force: boolean = true;\npublic visibleChange: EventEmitter<boolean> = new EventEmitter<boolean>();\npublic onClose: EventEmitter<any> = new EventEmitter();\npublic onDismiss: EventEmitter<any> = new EventEmitter();\npublic onOpen: EventEmitter<any> = new EventEmitter();\npublic onEscape: EventEmitter<any> = new EventEmitter();\npublic onDataAdded: EventEmitter<any> = new EventEmitter();\npublic onDataRemoved: EventEmitter<any> = new EventEmitter();\npublic layerPosition: number = 1041;\npublic overlayVisible: boolean = false;\nprivate data: any = null;\n/**\n * @param {?} ngxSmartModalService\n * @param {?} changeDetectorRef\n */\nconstructor(private ngxSmartModalService: NgxSmartModalService,\nprivate changeDetectorRef: ChangeDetectorRef) {\n  }\n/**\n * @return {?}\n */\npublic ngOnInit() {\n    this.layerPosition += this.ngxSmartModalService.getModalStackCount();\n    this.ngxSmartModalService.addModal({id: this.identifier, modal: this}, this.force);\n  }\n/**\n * @return {?}\n */\npublic ngOnDestroy() {\n    this.ngxSmartModalService.removeModal(this.identifier);\n  }\n/**\n * @param {?=} top\n * @return {?}\n */\npublic open(top?: boolean): void {\n    if (top) {\n      this.layerPosition = this.ngxSmartModalService.getHigherIndex();\n    }\n    if (!document.body.classList.contains('dialog-open')) {\n      document.body.classList.add('dialog-open');\n    }\n    this.overlayVisible = true;\n    this.visible = true;\n    this.onOpen.emit(this);\n  }\n/**\n * @return {?}\n */\npublic close(): void {\n    const /** @type {?} */ me = this;\n    this.visible = false;\n    this.visibleChange.emit(this.visible);\n    this.onClose.emit(this);\n    if (document.body.classList.contains('dialog-open')) {\n      document.body.classList.remove('dialog-open');\n    }\n    setTimeout(() => {\n      me.overlayVisible = false;\n      me.changeDetectorRef.markForCheck();\n    }, 150);\n  }\n/**\n * @param {?} e\n * @return {?}\n */\npublic dismiss(e: any): void {\n    const /** @type {?} */ me = this;\n    if (e.target.classList.contains('overlay')) {\n      this.visible = false;\n      this.visibleChange.emit(this.visible);\n      this.onDismiss.emit(this);\n      if (document.body.classList.contains('dialog-open')) {\n        document.body.classList.remove('dialog-open');\n      }\n      setTimeout(() => {\n        me.overlayVisible = false;\n        me.changeDetectorRef.markForCheck();\n      }, 150);\n    }\n  }\n/**\n * @param {?} className\n * @return {?}\n */\npublic addCustomClass(className: string): void {\n    if (!this.customClass.length) {\n      this.customClass = className;\n    } else {\n      this.customClass += ' ' + className;\n    }\n  }\n/**\n * @param {?=} className\n * @return {?}\n */\npublic removeCustomClass(className?: string): void {\n    if (className) {\n      this.customClass = this.customClass.replace(className, '').trim();\n    } else {\n      this.customClass = '';\n    }\n  }\n/**\n * @return {?}\n */\npublic isVisible(): boolean {\n    return this.visible;\n  }\n/**\n * @return {?}\n */\npublic hasData(): boolean {\n    return !!this.data;\n  }\n/**\n * @param {?} data\n * @param {?=} force\n * @return {?}\n */\npublic setData(data: any, force?: boolean): any {\n    if (!this.data || (!!this.data && force)) {\n      setTimeout(() => {\n        this.data = data;\n        this.onDataAdded.emit(this.data);\n      }, 0);\n    }\n  }\n/**\n * @return {?}\n */\npublic getData(): any {\n    return this.data;\n  }\n/**\n * @return {?}\n */\npublic removeData(): void {\n    setTimeout(() => {\n      this.data = null;\n      this.onDataRemoved.emit(true);\n    }, 0);\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nprivate escapeKeyboardEvent(event: KeyboardEvent) {\n    if (this.escapeAble) {\n      const /** @type {?} */ x = event.keyCode;\n      if (x === 27) {\n        this.onEscape.emit(this);\n        this.ngxSmartModalService.closeLatestModal();\n      }\n    }\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  animations: [\n    trigger('dialog', [\n      transition('void => *', [\n        style({transform: 'scale3d(.3, .3, .3)'}),\n        animate(100)\n      ]),\n      transition('* => void', [\n        animate(100, style({transform: 'scale3d(.0, .0, .0)'}))\n      ])\n    ])\n  ],\n  selector: 'ngx-smart-modal',\n  template: `\n    <style>\n      .overlay {\n        position: fixed;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        overflow-y: auto;\n        background-color: rgba(0, 0, 0, 0.5);\n        z-index: 999;\n      }\n\n      .overlay.transparent {\n        background-color: transparent;\n      }\n\n      body.dialog-open {\n        overflow: hidden;\n      }\n\n      .dialog {\n        visibility: visible;\n        position: absolute;\n        border-radius: 2px;\n        right: 0;\n        left: 0;\n        top: 20px;\n        margin-bottom: 20px;\n        margin-right: auto;\n        margin-left: auto;\n        min-height: 200px;\n        width: 90%;\n        max-width: 520px;\n        background-color: #fff;\n        padding: 12px;\n        box-shadow: 0 7px 8px -4px rgba(0, 0, 0, 0.2), 0 13px 19px 2px rgba(0, 0, 0, 0.14), 0 5px 24px 4px rgba(0, 0, 0, 0.12);\n      }\n\n      @media (min-width: 768px) {\n        .dialog {\n          top: 40px;\n          margin-bottom: 40px;\n        }\n      }\n\n      .dialog__close-btn {\n        border: 0;\n        background: none;\n        color: #2d2d2d;\n        position: absolute;\n        top: 8px;\n        right: 8px;\n        font-size: 1.2em;\n      }\n\n      .dialog__close-btn:hover {\n        cursor: pointer;\n      }\n    </style>\n    <div *ngIf=\"overlayVisible\" class=\"overlay\" [style.z-index]=\"layerPosition-1\"\n         [ngClass]=\"{'transparent':!backdrop}\"\n         (click)=\"dismiss($event)\">\n      <div [@dialog] *ngIf=\"visible\" [style.z-index]=\"layerPosition\" class=\"dialog\" [ngClass]=\"customClass\">\n        <ng-content></ng-content>\n        <button *ngIf=\"closable\" (click)=\"close()\" aria-label=\"Close\" class=\"dialog__close-btn\">\n          <img\n            src=\"data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCI+CjxnPgoJPGc+CgkJPHBhdGggZD0iTTUwNS45NDMsNi4wNThjLTguMDc3LTguMDc3LTIxLjE3Mi04LjA3Ny0yOS4yNDksMEw2LjA1OCw0NzYuNjkzYy04LjA3Nyw4LjA3Ny04LjA3NywyMS4xNzIsMCwyOS4yNDkgICAgQzEwLjA5Niw1MDkuOTgyLDE1LjM5LDUxMiwyMC42ODMsNTEyYzUuMjkzLDAsMTAuNTg2LTIuMDE5LDE0LjYyNS02LjA1OUw1MDUuOTQzLDM1LjMwNiAgICBDNTE0LjAxOSwyNy4yMyw1MTQuMDE5LDE0LjEzNSw1MDUuOTQzLDYuMDU4eiIgZmlsbD0iIzAwMDAwMCIvPgoJPC9nPgo8L2c+CjxnPgoJPGc+CgkJPHBhdGggZD0iTTUwNS45NDIsNDc2LjY5NEwzNS4zMDYsNi4wNTljLTguMDc2LTguMDc3LTIxLjE3Mi04LjA3Ny0yOS4yNDgsMGMtOC4wNzcsOC4wNzYtOC4wNzcsMjEuMTcxLDAsMjkuMjQ4bDQ3MC42MzYsNDcwLjYzNiAgICBjNC4wMzgsNC4wMzksOS4zMzIsNi4wNTgsMTQuNjI1LDYuMDU4YzUuMjkzLDAsMTAuNTg3LTIuMDE5LDE0LjYyNC02LjA1N0M1MTQuMDE4LDQ5Ny44NjYsNTE0LjAxOCw0ODQuNzcxLDUwNS45NDIsNDc2LjY5NHoiIGZpbGw9IiMwMDAwMDAiLz4KCTwvZz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K\" />\n        </button>\n      </div>\n    </div>\n  `\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: NgxSmartModalService, },\n{type: ChangeDetectorRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'closable': [{ type: Input },],\n'escapeAble': [{ type: Input },],\n'identifier': [{ type: Input },],\n'customClass': [{ type: Input },],\n'visible': [{ type: Input },],\n'backdrop': [{ type: Input },],\n'force': [{ type: Input },],\n'visibleChange': [{ type: Output },],\n'onClose': [{ type: Output },],\n'onDismiss': [{ type: Output },],\n'onOpen': [{ type: Output },],\n'onEscape': [{ type: Output },],\n'onDataAdded': [{ type: Output },],\n'onDataRemoved': [{ type: Output },],\n'escapeKeyboardEvent': [{ type: HostListener, args: ['document:keydown', ['$event'], ] },],\n};\n}\n\nfunction NgxSmartModalComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nNgxSmartModalComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nNgxSmartModalComponent.ctorParameters;\n/** @type {?} */\nNgxSmartModalComponent.propDecorators;\n/** @type {?} */\nNgxSmartModalComponent.prototype.closable;\n/** @type {?} */\nNgxSmartModalComponent.prototype.escapeAble;\n/** @type {?} */\nNgxSmartModalComponent.prototype.identifier;\n/** @type {?} */\nNgxSmartModalComponent.prototype.customClass;\n/** @type {?} */\nNgxSmartModalComponent.prototype.visible;\n/** @type {?} */\nNgxSmartModalComponent.prototype.backdrop;\n/** @type {?} */\nNgxSmartModalComponent.prototype.force;\n/** @type {?} */\nNgxSmartModalComponent.prototype.visibleChange;\n/** @type {?} */\nNgxSmartModalComponent.prototype.onClose;\n/** @type {?} */\nNgxSmartModalComponent.prototype.onDismiss;\n/** @type {?} */\nNgxSmartModalComponent.prototype.onOpen;\n/** @type {?} */\nNgxSmartModalComponent.prototype.onEscape;\n/** @type {?} */\nNgxSmartModalComponent.prototype.onDataAdded;\n/** @type {?} */\nNgxSmartModalComponent.prototype.onDataRemoved;\n/** @type {?} */\nNgxSmartModalComponent.prototype.layerPosition;\n/** @type {?} */\nNgxSmartModalComponent.prototype.overlayVisible;\n/** @type {?} */\nNgxSmartModalComponent.prototype.data;\n/** @type {?} */\nNgxSmartModalComponent.prototype.ngxSmartModalService;\n/** @type {?} */\nNgxSmartModalComponent.prototype.changeDetectorRef;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Injectable } from '@angular/core';\nimport { NgxSmartModalComponent } from '../components/ngx-smart-modal.component';\nimport { ModalInstance } from './modal-instance';\nexport class NgxSmartModalService {\npublic modalStack: ModalInstance[] = [];\nprivate debouncer: any;\n/**\n * Add a new modal instance. This step is essential and allows to retrieve any modal at any time.\n * It stores an object that contains the given modal identifier and the modal itself directly in the `modalStack`.\n * \n * @param {?} modalInstance\n * @param {?=} force\n * @return {?}\n */\npublic addModal(modalInstance: ModalInstance, force?: boolean): void {\n    if (force) {\n      const /** @type {?} */ i: number = this.modalStack.findIndex((o: ModalInstance) => {\n        return o.id === modalInstance.id;\n      });\n      if (i > -1) {\n        this.modalStack[i].modal = modalInstance.modal;\n      } else {\n        this.modalStack.push(modalInstance);\n      }\n      return;\n    }\n    this.modalStack.push(modalInstance);\n  }\n/**\n * Retrieve a modal instance by its identifier.\n * \n * @param {?} id\n * @return {?}\n */\npublic getModal(id: string): NgxSmartModalComponent {\n    return this.modalStack.filter((o: any) => {\n      return o.id === id;\n    })[0].modal;\n  }\n/**\n * Retrieve all the created modals.\n * \n * @return {?}\n */\npublic getModalStack(): ModalInstance[] {\n    return this.modalStack;\n  }\n/**\n * Retrieve all the opened modals. It looks for all modal instances with their `visible` property set to `true`.\n * \n * @return {?}\n */\npublic getOpenedModals(): ModalInstance[] {\n    const /** @type {?} */ modals: ModalInstance[] = [];\n    this.modalStack.forEach((o: ModalInstance) => {\n      if (o.modal.visible) {\n        modals.push(o);\n      }\n    });\n    return modals;\n  }\n/**\n * Get the higher `z-index` value between all the modal instances. It iterates over the `ModalStack` array and\n * calculates a higher value (it takes the highest index value between all the modal instances and adds 1).\n * Use it to make a modal appear foreground.\n * \n * @return {?}\n */\npublic getHigherIndex(): number {\n    const /** @type {?} */ index: number[] = [];\n    const /** @type {?} */ modals: ModalInstance[] = this.getOpenedModals();\n    modals.forEach((o: ModalInstance) => {\n      index.push(o.modal.layerPosition);\n    });\n    return Math.max(...index) + 1;\n  }\n/**\n * It gives the number of modal instances. It's helpful to know if the modal stack is empty or not.\n * \n * @return {?}\n */\npublic getModalStackCount(): number {\n    return this.modalStack.length;\n  }\n/**\n * Remove a modal instance from the modal stack.\n * \n * @param {?} id\n * @return {?}\n */\npublic removeModal(id: string): void {\n    const /** @type {?} */ i: number = this.modalStack.findIndex((o: any) => {\n      return o.id === id;\n    });\n    if (i > -1) {\n      this.modalStack.splice(i, 1);\n    }\n  }\n/**\n * Associate data to an identified modal. If the modal isn't already associated to some data, it creates a new\n * entry in the `modalData` array with its `id` and the given `data`. If the modal already has data, it rewrites\n * them with the new ones. Finally if no modal found it returns an error message in the console and false value\n * as method output.\n * \n * @param {?} data\n * @param {?} id\n * @param {?=} force\n * @return {?}\n */\npublic setModalData(data: any, id: string, force?: boolean): boolean {\n    if (!!this.modalStack.find((o: ModalInstance) => {\n        return o.id === id;\n      })) {\n      this.getModal(id).setData(data, force);\n      return true;\n    } else {\n      return false;\n    }\n  }\n/**\n * Retrieve modal data by its identifier.\n * \n * @param {?} id\n * @return {?}\n */\npublic getModalData(id: string): any {\n    return this.getModal(id).getData();\n  }\n/**\n * Reset the data attached to a given modal.\n * \n * @param {?} id\n * @return {?}\n */\npublic resetModalData(id: string): any | boolean {\n    if (!!this.modalStack.find((o: ModalInstance) => {\n        return o.id === id;\n      })) {\n      const /** @type {?} */ removed: any = this.getModal(id).getData();\n      this.getModal(id).removeData();\n      return removed;\n    } else {\n      return false;\n    }\n  }\n/**\n * Close the latest opened modal if it has been declared as escapeAble\n * Using a debounce system because one or more modals could be listening\n * escape key press event.\n * @return {?}\n */\npublic closeLatestModal(): void {\n    const /** @type {?} */ me = this;\n    clearTimeout(this.debouncer);\n    this.debouncer = setTimeout(() => {\n      let /** @type {?} */ tmp: ModalInstance | undefined;\n      me.getOpenedModals().forEach((m: ModalInstance) => {\n        if (m.modal.layerPosition > (!!tmp ? tmp.modal.layerPosition : 0 && m.modal.escapeAble)) {\n          tmp = m;\n        }\n      });\n      return !!tmp ? tmp.modal.close() : false;\n    }, 100);\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction NgxSmartModalService_tsickle_Closure_declarations() {\n/** @type {?} */\nNgxSmartModalService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nNgxSmartModalService.ctorParameters;\n/** @type {?} */\nNgxSmartModalService.prototype.modalStack;\n/** @type {?} */\nNgxSmartModalService.prototype.debouncer;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"],"names":[],"mappings":";;;AKGA;IAAA;QAGS,IAAT,CAAA,UAAS,GAA8B,EAAA,CAAG;IAsK1C,CAAC;;;;;;;;;IA3JE,uCAAA,GAAA,UAAA,aAAA,EAAA,KAAA;QAFC,EAAJ,CAAA,CAAQ,KAGC,CAHT,CAGe,CAHf;YACM,IAAN,gBAAA,CAGY,CAAA,GAAY,IAAA,CAAK,UAAC,CAAU,SAAC,CAAS,UAAC,CAAG;gBAF9C,MAAR,CAGe,CAAA,CAAE,EAAC,KAAM,aAAA,CAAc,EAAC,CAAE;YAFzC,CAAO,CAGC,CAAC;YAFH,EAAN,CAAA,CAAU,CAGC,GAAG,CAAA,CAAE,CAHhB,CAGkB,CAHlB;gBACQ,IAAI,CAGC,UAAC,CAAU,CAAC,CAAC,CAAC,KAAC,GAAO,aAAA,CAAc,KAAC,CAAK;YAFvD,CAAO;YAGP,IAAA,CAAa,CAAb;gBAFQ,IAAI,CAGC,UAAC,CAAU,IAAC,CAAI,aAAC,CAAa,CAAC;YAF5C,CAAO;YACD,MAAN,CAAa;QACb,CAAK;QACD,IAAI,CAGC,UAAC,CAAU,IAAC,CAAI,aAAC,CAAa,CAAC;IAFxC,CAAG;;;;;;;IAUA,uCAAA,GAAA,UAAA,EAAA;QAFC,MAAJ,CAGW,IAAA,CAAK,UAAC,CAAU,MAAC,CAAM,UAAC,CAAG;YAFhC,MAAN,CAGa,CAAA,CAAE,EAAC,KAAM,EAAA,CAAG;QAFzB,CAAK,CAGC,CAAC,CAAC,CAAC,CAAC,KAAC,CAAK;IAFhB,CAAG;;;;;;IAUA,4CAAA,GAAA;QAHC,MAAJ,CAIW,IAAA,CAAK,UAAC,CAAU;IAH3B,CAAG;;;;;;IAWA,8CAAA,GAAA;QAJC,IAAJ,gBAAA,CAKU,MAAA,GAA0B,EAAA,CAAG;QAJnC,IAAI,CAKC,UAAC,CAAU,OAAC,CAAO,UAAC,CAAG;YAJ1B,EAAN,CAAA,CAAU,CAKC,CAAC,KAAC,CAAK,OAAC,CALnB,CAK2B,CAL3B;gBACQ,MAAM,CAKC,IAAC,CAAI,CAAC,CAAC,CAAC;YAJvB,CAAO;QACP,CAAK,CAKC,CAAC;QAJH,MAAJ,CAKW,MAAA,CAAO;IAJlB,CAAG;;;;;;;;IAcA,6CAAA,GAAA;QALC,IAAJ,gBAAA,CAMU,KAAA,GAAkB,EAAA,CAAG;QAL3B,IAAJ,gBAAA,CAMU,MAAA,GAA0B,IAAA,CAAK,eAAC,EAAe,CAAE;QALvD,MAAM,CAMC,OAAC,CAAO,UAAC,CAAG;YALjB,KAAK,CAMC,IAAC,CAAI,CAAC,CAAC,KAAC,CAAK,aAAC,CAAa,CAAC;QALxC,CAAK,CAMC,CAAC;QALH,MAAJ,CAMW,IAAA,CAAK,GAAC,OAAN,IAAA,EAAU,KAAG,IAAQ,CAAA,CAAE;IALlC,CAAG;;;;;;IAaA,iDAAA,GAAA;QANC,MAAJ,CAOW,IAAA,CAAK,UAAC,CAAU,MAAC,CAAM;IANlC,CAAG;;;;;;;IAeA,0CAAA,GAAA,UAAA,EAAA;QAPC,IAAJ,gBAAA,CAQU,CAAA,GAAY,IAAA,CAAK,UAAC,CAAU,SAAC,CAAS,UAAC,CAAG;YAP9C,MAAN,CAQa,CAAA,CAAE,EAAC,KAAM,EAAA,CAAG;QAPzB,CAAK,CAQC,CAAC;QAPH,EAAJ,CAAA,CAAQ,CAQC,GAAG,CAAA,CAAE,CARd,CAQgB,CARhB;YACM,IAAI,CAQC,UAAC,CAAU,MAAC,CAAM,CAAC,EAAE,CAAA,CAAE,CAAC;QAPnC,CAAK;IACL,CAAG;;;;;;;;;;;;IAqBA,2CAAA,GAAA,UAAA,IAAA,EAAA,EAAA,EAAA,KAAA;QARC,EAAJ,CAAA,CAAQ,CASC,CAAC,IAAC,CAAI,UAAC,CAAU,IAAC,CAAI,UAAC,CAAG;YAR3B,MAAR,CASe,CAAA,CAAE,EAAC,KAAM,EAAA,CAAG;QAR3B,CAAO,CASC,CATR,CASU,CATV;YACM,IAAI,CASC,QAAC,CAAQ,EAAC,CAAE,CAAC,OAAC,CAAO,IAAC,EAAK,KAAA,CAAM,CAAC;YARvC,MAAN,CASa,IAAA,CAAK;QARlB,CAAK;QASL,IAAA,CAAW,CAAX;YARM,MAAN,CASa,KAAA,CAAM;QARnB,CAAK;IACL,CAAG;;;;;;;IAiBA,2CAAA,GAAA,UAAA,EAAA;QATC,MAAJ,CAUW,IAAA,CAAK,QAAC,CAAQ,EAAC,CAAE,CAAC,OAAC,EAAO,CAAE;IATvC,CAAG;;;;;;;IAkBA,6CAAA,GAAA,UAAA,EAAA;QAVC,EAAJ,CAAA,CAAQ,CAWC,CAAC,IAAC,CAAI,UAAC,CAAU,IAAC,CAAI,UAAC,CAAG;YAV3B,MAAR,CAWe,CAAA,CAAE,EAAC,KAAM,EAAA,CAAG;QAV3B,CAAO,CAWC,CAXR,CAWU,CAXV;YACM,IAAN,gBAAA,CAWY,OAAA,GAAe,IAAA,CAAK,QAAC,CAAQ,EAAC,CAAE,CAAC,OAAC,EAAO,CAAE;YAVjD,IAAI,CAWC,QAAC,CAAQ,EAAC,CAAE,CAAC,UAAC,EAAU,CAAE;YAV/B,MAAN,CAWa,OAAA,CAAQ;QAVrB,CAAK;QAWL,IAAA,CAAW,CAAX;YAVM,MAAN,CAWa,KAAA,CAAM;QAVnB,CAAK;IACL,CAAG;;;;;;;IAkBA,+CAAA,GAAA;QAVC,IAAJ,gBAAA,CAWU,EAAA,GAAK,IAAA,CAAK;QAVhB,YAAY,CAWC,IAAC,CAAI,SAAC,CAAS,CAAC;QAV7B,IAAI,CAWC,SAAC,GAAW,UAAA,CAAW;YAV1B,IAAN,gBAAA,CAWU,GAAqB,CAAU;YAVnC,EAAE,CAWC,eAAC,EAAe,CAAE,OAAC,CAAO,UAAC,CAAG;gBAV/B,EAAR,CAAA,CAAY,CAWC,CAAC,KAAC,CAAK,aAAC,GAXrB,CAWoC,CAAE,CAAC,GAAC,GAAK,GAAA,CAAI,KAAC,CAAK,aAAC,GAAe,CAAA,IAAK,CAAA,CAAE,KAAC,CAAK,UAAC,CAAU,CAX/F,CAWiG,CAXjG;oBACU,GAAG,GAWG,CAAA,CAAE;gBAVlB,CAAS;YACT,CAAO,CAWC,CAAC;YAVH,MAAN,CAWa,CAAA,CAAE,GAAC,GAAK,GAAA,CAAI,KAAC,CAAK,KAAC,EAAK,GAAI,KAAA,CAAM;QAV/C,CAAK,EAWE,GAAA,CAAI,CAAC;IAVZ,CAAG;;CAhKH;AA4KO,oBAAP,CAAA,UAAO,GAAoC;IAV3C,EAWE,IAAA,EAAM,UAAA,EAAW;CAVlB,CAWC;;;;AAED,oBAAD,CAAA,cAAC,GAAA,cAAA,OAAA,EARA,EAQA,CARA,CAAC;AD/JF;;;;;IAsBA,gCAIsB,oBAAsB,EAA8B,iBAAmB;QAAvE,IAAtB,CAAA,oBAAsB,GAAA,oBAAA,CAAsB;QAA8B,IAA1E,CAAA,iBAA0E,GAAA,iBAAA,CAAmB;QAvBnF,IAAV,CAAA,QAAU,GAAoB,IAAA,CAAK;QACzB,IAAV,CAAA,UAAU,GAAsB,IAAA,CAAK;QAE3B,IAAV,CAAA,WAAU,GAAsB,EAAA,CAAG;QACzB,IAAV,CAAA,OAAU,GAAmB,KAAA,CAAM;QACzB,IAAV,CAAA,QAAU,GAAoB,IAAA,CAAK;QACzB,IAAV,CAAA,KAAU,GAAiB,IAAA,CAAK;QAEtB,IAAV,CAAA,aAAU,GAAuC,IAAI,YAAA,EAAqB,CAAG;QAEnE,IAAV,CAAA,OAAU,GAA6B,IAAI,YAAA,EAAa,CAAE;QAChD,IAAV,CAAA,SAAU,GAA+B,IAAI,YAAA,EAAa,CAAE;QAClD,IAAV,CAAA,MAAU,GAA4B,IAAI,YAAA,EAAa,CAAE;QAC/C,IAAV,CAAA,QAAU,GAA8B,IAAI,YAAA,EAAa,CAAE;QAEjD,IAAV,CAAA,WAAU,GAAiC,IAAI,YAAA,EAAa,CAAE;QACpD,IAAV,CAAA,aAAU,GAAmC,IAAI,YAAA,EAAa,CAAE;QAEvD,IAAT,CAAA,aAAS,GAAwB,IAAA,CAAK;QAC7B,IAAT,CAAA,cAAS,GAA0B,KAAA,CAAM;QAE/B,IAAV,CAAA,IAAU,GAAY,IAAA,CAAK;IAA3B,CAAG;;;;IAKA,yCAAA,GAAA;QAAC,IAAI,CACC,aAAC,IAAgB,IAAA,CAAK,oBAAC,CAAoB,kBAAC,EAAkB,CAAE;QAArE,IAAI,CACC,oBAAC,CAAoB,QAAC,CAAQ,EAAC,EAAC,EAAG,IAAA,CAAK,UAAC,EAAW,KAAA,EAAO,IAAA,EAAK,EAAE,IAAA,CAAK,KAAC,CAAK,CAAC;IAAvF,CAAG;;;;IAGA,4CAAA,GAAA;QAEC,IAAI,CADC,oBAAC,CAAoB,WAAC,CAAW,IAAC,CAAI,UAAC,CAAU,CAAC;IAE3D,CAAG;;;;;IACA,qCAAA,GAAA,UAAA,GAAA;QAKC,EAAJ,CAAA,CAAQ,GAJC,CAIT,CAJa,CAIb;YACM,IAAI,CAJC,aAAC,GAAe,IAAA,CAAK,oBAAC,CAAoB,cAAC,EAAc,CAAE;QAKtE,CAAK;QACD,EAAJ,CAAA,CAAQ,CAJC,QAAC,CAAQ,IAAC,CAAI,SAAC,CAAS,QAAC,CAAQ,aAAC,CAAa,CAIxD,CAJ0D,CAI1D;YACM,QAAQ,CAJC,IAAC,CAAI,SAAC,CAAS,GAAC,CAAG,aAAC,CAAa,CAAC;QAKjD,CAAK;QACD,IAAI,CAJC,cAAC,GAAgB,IAAA,CAAK;QAK3B,IAAI,CAJC,OAAC,GAAS,IAAA,CAAK;QAKpB,IAAI,CAJC,MAAC,CAAM,IAAC,CAAI,IAAC,CAAI,CAAC;IAK3B,CAAG;;;;IAFA,sCAAA,GAAA;QAOC,IAAJ,gBAAA,CANU,EAAA,GAAK,IAAA,CAAK;QAOhB,IAAI,CANC,OAAC,GAAS,KAAA,CAAM;QAOrB,IAAI,CANC,aAAC,CAAa,IAAC,CAAI,IAAC,CAAI,OAAC,CAAO,CAAC;QAOtC,IAAI,CANC,OAAC,CAAO,IAAC,CAAI,IAAC,CAAI,CAAC;QAOxB,EAAJ,CAAA,CAAQ,QANC,CAAQ,IAAC,CAAI,SAAC,CAAS,QAAC,CAAQ,aAAC,CAAa,CAMvD,CANyD,CAMzD;YACM,QAAQ,CANC,IAAC,CAAI,SAAC,CAAS,MAAC,CAAM,aAAC,CAAa,CAAC;QAOpD,CAAK;QACD,UAAU,CANC;YAOT,EAAE,CANC,cAAC,GAAgB,KAAA,CAAM;YAO1B,EAAE,CANC,iBAAC,CAAiB,YAAC,EAAY,CAAE;QAO1C,CAAK,EANE,GAAA,CAAI,CAAC;IAOZ,CAAG;;;;;IAJA,wCAAA,GAAA,UAAA,CAAA;QAUC,IAAJ,gBAAA,CATU,EAAA,GAAK,IAAA,CAAK;QAUhB,EAAJ,CAAA,CAAQ,CATC,CAAC,MAAC,CAAM,SAAC,CAAS,QAAC,CAAQ,SAAC,CAAS,CAS9C,CATgD,CAShD;YACM,IAAI,CATC,OAAC,GAAS,KAAA,CAAM;YAUrB,IAAI,CATC,aAAC,CAAa,IAAC,CAAI,IAAC,CAAI,OAAC,CAAO,CAAC;YAUtC,IAAI,CATC,SAAC,CAAS,IAAC,CAAI,IAAC,CAAI,CAAC;YAU1B,EAAN,CAAA,CAAU,QATC,CAAQ,IAAC,CAAI,SAAC,CAAS,QAAC,CAAQ,aAAC,CAAa,CASzD,CAT2D,CAS3D;gBACQ,QAAQ,CATC,IAAC,CAAI,SAAC,CAAS,MAAC,CAAM,aAAC,CAAa,CAAC;YAUtD,CAAO;YACD,UAAU,CATC;gBAUT,EAAE,CATC,cAAC,GAAgB,KAAA,CAAM;gBAU1B,EAAE,CATC,iBAAC,CAAiB,YAAC,EAAY,CAAE;YAU5C,CAAO,EATE,GAAA,CAAI,CAAC;QAUd,CAAK;IACL,CAAG;;;;;IAPA,+CAAA,GAAA,UAAA,SAAA;QAaC,EAAJ,CAAA,CAAQ,CAZC,IAAC,CAAI,WAAC,CAAW,MAAC,CAY3B,CAZkC,CAYlC;YACM,IAAI,CAZC,WAAC,GAAa,SAAA,CAAU;QAanC,CAAK;QAZL,IAAA,CAAW,CAAX;YAaM,IAAI,CAZC,WAAC,IAAc,GAAA,GAAM,SAAA,CAAU;QAa1C,CAAK;IACL,CAAG;;;;;IAVA,kDAAA,GAAA,UAAA,SAAA;QAgBC,EAAJ,CAAA,CAAQ,SAfC,CAeT,CAfmB,CAenB;YACM,IAAI,CAfC,WAAC,GAAa,IAAA,CAAK,WAAC,CAAW,OAAC,CAAO,SAAC,EAAU,EAAA,CAAG,CAAC,IAAC,EAAI,CAAE;QAgBxE,CAAK;QAfL,IAAA,CAAW,CAAX;YAgBM,IAAI,CAfC,WAAC,GAAa,EAAA,CAAG;QAgB5B,CAAK;IACL,CAAG;;;;IAbA,0CAAA,GAAA;QAkBC,MAAJ,CAjBW,IAAA,CAAK,OAAC,CAAO;IAkBxB,CAAG;;;;IAfA,wCAAA,GAAA;QAoBC,MAAJ,CAnBW,CAAA,CAAE,IAAC,CAAI,IAAC,CAAI;IAoBvB,CAAG;;;;;;IAjBA,wCAAA,GAAA,UAAA,IAAA,EAAA,KAAA;QAAA,iBA8BA;QANC,EAAJ,CAAA,CAAQ,CAvBC,IAAC,CAAI,IAAC,IAuBf,CAvBsB,CAAE,CAAC,IAAC,CAAI,IAAC,IAAO,KAAA,CAAM,CAuB5C,CAvB8C,CAuB9C;YACM,UAAU,CAvBC;gBAwBT,KAAI,CAvBC,IAAC,GAAM,IAAA,CAAK;gBAwBjB,KAAI,CAvBC,WAAC,CAAW,IAAC,CAAI,KAAC,CAAI,IAAC,CAAI,CAAC;YAwBzC,CAAO,EAvBE,CAAA,CAAE,CAAC;QAwBZ,CAAK;IACL,CAAG;;;;IArBA,wCAAA,GAAA;QA0BC,MAAJ,CAzBW,IAAA,CAAK,IAAC,CAAI;IA0BrB,CAAG;;;;IAvBA,2CAAA,GAAA;QAAA,iBAgCA;QAJC,UAAU,CA3BC;YA4BT,KAAI,CA3BC,IAAC,GAAM,IAAA,CAAK;YA4BjB,KAAI,CA3BC,aAAC,CAAa,IAAC,CAAI,IAAC,CAAI,CAAC;QA4BpC,CAAK,EA3BE,CAAA,CAAE,CAAC;IA4BV,CAAG;;;;;IAxBA,oDAAA,GAAA,UAAA,KAAA;QA8BC,EAAJ,CAAA,CAAQ,IA7BC,CAAI,UAAC,CA6Bd,CA7ByB,CA6BzB;YACM,IAAN,gBAAA,CA7BY,CAAA,GAAI,KAAA,CAAM,OAAC,CAAO;YA8BxB,EAAN,CAAA,CAAU,CA7BC,KAAK,EAAA,CA6BhB,CA7BoB,CA6BpB;gBACQ,IAAI,CA7BC,QAAC,CAAQ,IAAC,CAAI,IAAC,CAAI,CAAC;gBA8BzB,IAAI,CA7BC,oBAAC,CAAoB,gBAAC,EAAgB,CAAE;YA8BrD,CAAO;QACP,CAAK;IACL,CAAG;;CAlKH;AAsIO,sBAAP,CAAA,UAAO,GAAoC;IA8B3C,EA7BE,IAAA,EAAM,SAAA,EAAW,IAAA,EAAM,CAAA;gBA8BvB,UAAU,EA7BE;oBA8BV,OAAO,CA7BC,QAAC,EAAS;wBA8BhB,UAAU,CA7BC,WAAC,EAAY;4BA8BtB,KAAK,CA7BC,EAAC,SAAC,EAAU,qBAAA,EAAsB,CAAC;4BA8BzC,OAAO,CA7BC,GAAC,CAAG;yBA8Bb,CA7BC;wBA8BF,UAAU,CA7BC,WAAC,EAAY;4BA8BtB,OAAO,CA7BC,GAAC,EAAI,KAAA,CAAM,EAAC,SAAC,EAAU,qBAAA,EAAsB,CAAC,CAAC;yBA8BxD,CA7BC;qBA8BH,CA7BC;iBA8BH;gBACD,QAAQ,EA7BE,iBAAA;gBA8BV,QAAQ,EA7BE,kxGAoGT;aACF,EA7BC,EAAG;CA8BJ,CA7BC;;;;AAED,sBAAD,CAAA,cAAC,GAAA,cAAA,OAAA;IAgCD,EAAC,IAAI,EAAE,oBAAoB,GAAG;IAC9B,EAAC,IAAI,EAAE,iBAAiB,GAAG;CAC1B,EAlCA,CAkCA,CAAC;AA9BK,sBAAP,CAAA,cAAO,GAAyD;IAgChE,UAAU,EA/BE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAgC7B,YAAY,EA/BE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAgC/B,YAAY,EA/BE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAgC/B,aAAa,EA/BE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAgChC,SAAS,EA/BE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAgC5B,UAAU,EA/BE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAgC7B,OAAO,EA/BE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAgC1B,eAAe,EA/BE,CAAA,EAAG,IAAA,EAAM,MAAA,EAAO,EAAE;IAgCnC,SAAS,EA/BE,CAAA,EAAG,IAAA,EAAM,MAAA,EAAO,EAAE;IAgC7B,WAAW,EA/BE,CAAA,EAAG,IAAA,EAAM,MAAA,EAAO,EAAE;IAgC/B,QAAQ,EA/BE,CAAA,EAAG,IAAA,EAAM,MAAA,EAAO,EAAE;IAgC5B,UAAU,EA/BE,CAAA,EAAG,IAAA,EAAM,MAAA,EAAO,EAAE;IAgC9B,aAAa,EA/BE,CAAA,EAAG,IAAA,EAAM,MAAA,EAAO,EAAE;IAgCjC,eAAe,EA/BE,CAAA,EAAG,IAAA,EAAM,MAAA,EAAO,EAAE;IAgCnC,qBAAqB,EA/BE,CAAA,EAAG,IAAA,EAAM,YAAA,EAAc,IAAA,EAAM,CAAA,kBAAE,EAAmB,CAAA,QAAE,CAAQ,EAAC,EAAG,EAAE;CAgCxF,CA/BC;AD3PF;IAAA;;;;;;IAOK,2BAAA,GAAA;QADG,MAAR,CAEe;YADH,QAAQ,EAEE,mBAAA;YADV,SAAS,EAEE,CAAA,oBAAE,CAAoB;SADpC,CAEC;IADV,CAAK;;;;;IAOA,4BAAA,GAAA;QADG,MAAR,CAEe;YADH,QAAQ,EAEE,mBAAA;YADV,SAAS,EAEE,CAAA,oBAAE,CAAoB;SADpC,CAEC;IADV,CAAK;;CApBL;AAwBO,mBAAP,CAAA,UAAO,GAAoC;IAD3C,EAEE,IAAA,EAAM,QAAA,EAAU,IAAA,EAAM,CAAA;gBADpB,YAAY,EAEE,CAAA,sBAAE,CAAsB;gBADtC,OAAO,EAEE,CAAA,sBAAE,CAAsB;gBADjC,OAAO,EAEE,CAAA,YAAE,CAAY;aAD1B,EAEC,EAAG;CADJ,CAEC;;;;AAED,mBAAD,CAAA,cAAC,GAAA,cAAA,OAAA,EACA,EADA,CACA,CAAC;ADrCF,kBAAC;ADAD;;GAEG;ADFH;;GAEG;;"}